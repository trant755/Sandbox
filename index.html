<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <style>
      body {
        background-color: #333;
      }
      .wrapper {
        margin: 0 auto;
        position: relative;
        width: 90vw;
        height: 80vh;
        background-color: #1f72f9;
        border-radius: 20px;
      }

      .container {
        position: absolute;
        right: 0;
        top: 0;
        background-color: transparent;
        width: 500px;
        height: 400px;
      }

      .svg-background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      .content {
        position: relative;
        z-index: 1; /* Чтобы контент был поверх SVG */
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
      }

      .pre-order-button {
        background-color: transparent;
        border: 1px solid #fff;
        border-radius: 20px;
        color: white;
        padding: 5px 15px;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 5px;
      }
    </style>
    <div class="wrapper">
      <div class="container">
        <svg
          class="responsive-svg svg-background"
          xmlns="http://www.w3.org/2000/svg"
          id="mySVG"
        >
          <path id="dynamicPath" d="" fill="#333" />
        </svg>
        <div class="content">
          <button class="pre-order-button">PRE-ORDER <span>⚙️</span></button>
        </div>
      </div>
    </div>
    <button type="button" id="changeSize">Change size</button>
    <script>
      function updatePath() {
        // Получаем размеры контейнера
        const container = document.querySelector(".container");
        const width = container.offsetWidth;
        const height = container.offsetHeight;

        // Пример вычисления нового пути на основе ширины и высоты
        const newPath = `
      M 0 0 
      L ${width} 0 
      L ${width} ${height} 
      Q ${width} ${height - 30} ${width - 30} ${height - 30} 
      L 60 ${height - 30} 
      Q 30 ${height - 30} 30 ${height - 60} 
      L 30 30 
      Q 30 0 0 0 
    `;

        // Применяем новый путь к SVG
        document.getElementById("dynamicPath").setAttribute("d", newPath);
      }

      // Обновляем путь при загрузке и изменении размеров окна
      window.addEventListener("load", updatePath);
      window.addEventListener("resize", updatePath);

      const changeSizeButton = document.getElementById("changeSize");
      changeSizeButton.addEventListener("click", () => {
        const randomSize = [
          [300, 200],
          [400, 300],
          [500, 200],
          [200, 500],
        ][Math.floor(Math.random() * 3)];
        const container = document.querySelector(".container");
        container.style.width = `${randomSize[0]}px`;
        container.style.height = `${randomSize[1]}px`;
        updatePath();
      });
    </script>
  </body>
</html>
